services:
  proxy:
    image: docker.io/traefik:v3.1.2
    ports:
      - 80:80
      - 443:443
      - 443:443/udp
      - 8080:8080
    command:
      - "--configfile=/etc/traefik/config/traefik.yaml"
    volumes:
      - ${podmansock}:/var/run/docker.sock
      - ./config/letsencrypt:/letsencrypt:rw
      - ./config/traefik/:/etc/traefik/config:ro
      # - ./config/dynamic/dynamic-conf.yaml:/dynamic-conf.yaml
    networks:
      - externa
  
  ddm:
    image: docker.io/nginx
    ports:
      - 9090:80
    networks:
      - externa

networks:
  externa:
